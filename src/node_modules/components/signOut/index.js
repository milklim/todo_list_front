import React, {Component} from 'react'
import {connect} from 'react-redux'
import {browserHistory} from "react-router";

import {
    userSignOut
} from 'actions'
import {getAuthInfo} from "selectors";

class SignOut extends Component{
    componentWillMount(){
        this.props.userSignOut()
        if (!this.props.authInfo.isAuthenticate)
            browserHistory.push('/')
    }


    render(){
        return null
    }
}

const mapStateToProps = (state) => {
    return {
        authInfo: getAuthInfo(state)
    }
}
const mapDispatchToProps = {
    userSignOut,
}

export default connect(mapStateToProps, mapDispatchToProps)(SignOut)